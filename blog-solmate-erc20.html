<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Blog | Aayush</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
</head>
<body>
  <div class="container">
    <header>
      <h1>Read My Blog</h1>
      <p class="tagline">Insights, vulnerabilities, strategies & reflections from my journey as a smart contract auditor.</p>
    </header>

    <section class="blog-list">
      <div class="blog-card">
        <h3>ğŸš¨ Understanding Reentrancy</h3>
        <p>
          A practical breakdown of how reentrancy exploits happen, with live code examples, mitigation techniques, and real-world hack analysis.
        </p>
        <a href="#" class="btn btn-primary">ğŸ“– Read Article</a>
      </div>

      <div class="blog-card">
        <h3>ğŸ”¥ Gas Optimization Techniques</h3>
        <p>
          From packing storage to avoiding redundant state changes â€” learn how to write gas-efficient smart contracts that save cost and improve performance.
        </p>
        <a href="#" class="btn btn-primary">ğŸ“– Read Article</a>
      </div>

      <div class="blog-card">
        <h3>ğŸ§  How I Analyze Vulnerable Contracts</h3>
        <p>
          My step-by-step thought process when reading real-world contracts to uncover hidden bugs, even when they're not obvious.
        </p>
        <a href="#" class="btn btn-primary">ğŸ“– Read Article</a>
      </div>

      <div class="blog-card">
        <h3>âœï¸ More coming soon...</h3>
        <p>
          New blogs are written alongside my learning and audits. Stay tuned for deep dives into delegatecall, access control issues, and more.
        </p>
        <a href="#" class="btn btn-secondary" disabled>ğŸ•’ In Progress</a>
      </div>
    </section>

    <section class="blog-entry">
      <h2>ğŸš¨ Contributing to Solmate: Adding Missing Revert Checks to ERC20 Transfer</h2>
      <p>In my journey of auditing smart contracts, I recently contributed to the Solmate library. I added essential checks for handling errors in the ERC20 transfer function. Specifically, I implemented:</p>
      
      <h3>Key Updates:</h3>
      <ul>
        <li><strong>Insufficient Balance Error:</strong> I added a revert error when a user tries to transfer more than their balance. This ensures that the transfer only happens if the sender has enough tokens.</li>
        <li><strong>Transfer to Zero Address Error:</strong> A revert error is added to prevent transfers to the zero address, which would otherwise result in tokens being lost permanently.</li>
        <li><strong>Gas Optimization:</strong> I used custom errors instead of strings to reduce gas costs and make the contract more efficient.</li>
      </ul>

      <h3>Hereâ€™s how I implemented it:</h3>

      <pre><code>
error InsufficientBalance();
error TransferToZeroAddress();

function transfer(address to, uint256 amount) public returns (bool) {
    if (balanceOf[msg.sender] < amount) revert InsufficientBalance();
    if (to == address(0)) revert TransferToZeroAddress();

    unchecked {
        balanceOf[msg.sender] -= amount;
        balanceOf[to] += amount;
    }

    emit Transfer(msg.sender, to, amount);
    return true;
}
      </code></pre>

      <p>The code above ensures that the transfer function is safe, and gas-efficient. It also makes it much harder for vulnerabilities to be exploited.</p>
      
      <p>If you're interested in the full pull request, check it out on GitHub! <a href="https://github.com/transmissions11/solmate/pull/431">Solmate PR Link</a></p>
    </section>

    <footer>
      &copy; 2025 Aayush | Smart Contract Auditor
    </footer>
  </div>
</body>
</html>
